<UserControl x:Class="LM.App.Wpf.Views.PdfViewer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:webview2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
             mc:Ignorable="d">
  <DockPanel>
    <ToolBar DockPanel.Dock="Top">
      <TextBox x:Name="PdfPathBox"
               Width="320"
               Margin="0,0,8,0"
               Text="{Binding PdfPath, UpdateSourceTrigger=PropertyChanged}" />
      <Button Content="Load"
              Margin="0,0,8,0"
              Command="{Binding LoadPdfCommand}" />
      <Separator />
      <TextBlock Text="SHA-256:"
                 Margin="8,0,4,0"
                 VerticalAlignment="Center"
                 FontWeight="SemiBold" />
      <TextBlock Text="{Binding PdfHash}" VerticalAlignment="Center" />
    </ToolBar>

    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="300"
                          MinWidth="180" />
        <ColumnDefinition Width="5" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>

      <Border Grid.Column="0"
              BorderBrush="#FFE0E0E0"
              BorderThickness="0,0,1,0"
              Background="#FFF7F7F7">
        <DockPanel Margin="12">
          <TextBlock DockPanel.Dock="Top"
                     Text="Annotations"
                     FontSize="14"
                     FontWeight="SemiBold"
                     Margin="0,0,0,8" />

          <Button DockPanel.Dock="Bottom"
                  Content="Log Annotation Change"
                  Margin="0,8,0,0"
                  Padding="8,4"
                  Command="{Binding RecordAnnotationChangeCommand}" />

          <ListBox ItemsSource="{Binding Annotations}"
                   SelectedItem="{Binding SelectedAnnotation, Mode=TwoWay}"
                   DisplayMemberPath="Title"
                   ScrollViewer.VerticalScrollBarVisibility="Auto" />
        </DockPanel>
      </Border>

      <GridSplitter Grid.Column="1"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    Background="#FFE0E0E0"
                    ShowsPreview="True" />

      <Border Grid.Column="2"
              Background="#FFFFFFFF"
              Padding="0">
        <webview2:WebView2 x:Name="PdfWebView" />
      </Border>
    </Grid>
  </DockPanel>
</UserControl>

<Window x:Class="LM.App.Wpf.Views.WorkspaceChooser"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        Title="{Binding Title}"
        Height="180"
        Width="520"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        FocusManager.FocusedElement="{Binding ElementName=PathBox}">
  <Grid Margin="12">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="Auto" />
    </Grid.ColumnDefinitions>

    <TextBlock Grid.Row="0"
               Grid.ColumnSpan="2"
               Margin="0,0,0,8"
               Text="Select the workspace folder (shared via OneDrive/SharePoint)." />

    <TextBox x:Name="PathBox"
             Grid.Row="1"
             Grid.Column="0"
             Text="{Binding WorkspacePath, UpdateSourceTrigger=PropertyChanged}" />

    <Button Grid.Row="1"
            Grid.Column="1"
            Content="Browse..."
            Margin="8,0,0,0"
            Padding="12,4"
            Command="{Binding BrowseCommand}" />

    <CheckBox Grid.Row="2"
              Grid.ColumnSpan="2"
              Margin="0,12,0,0"
              Content="Dump staged JSON for debugging"
              IsChecked="{Binding EnableDebugDump}" />

    <StackPanel Grid.Row="3"
                Grid.ColumnSpan="2"
                Style="{StaticResource DialogButtonPanelStyle}"
                Margin="0,16,0,0">
      <Button Content="OK"
              Style="{StaticResource DialogPrimaryButtonStyle}"
              Command="{Binding ConfirmCommand}" />
      <Button Content="Cancel"
              Style="{StaticResource DialogCancelButtonStyle}"
              Command="{Binding CancelCommand}" />
    </StackPanel>
  </Grid>
</Window>
